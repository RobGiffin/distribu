{"version":3,"sources":["src/resources/index.js","src/resources/elements/router-progress-indicator/router-progress-indicator.js","/Users/robertwaggott/Code/distribyou/src/resources/elements/router-progress-indicator/router-progress-indicator.html","src/resources/elements/request-indicator/request-indicator.js","/Users/robertwaggott/Code/distribyou/src/resources/elements/request-indicator/request-indicator.html","src/resources/elements/breadcrumbs/breadcrumbs.js","/Users/robertwaggott/Code/distribyou/src/resources/elements/breadcrumbs/breadcrumbs.html","src/reports/reports.js","/Users/robertwaggott/Code/distribyou/src/reports/reports.html","src/main.js","src/home/home.js","/Users/robertwaggott/Code/distribyou/src/home/home.html","src/header/header.js","/Users/robertwaggott/Code/distribyou/src/header/header.html","src/footer/footer.js","/Users/robertwaggott/Code/distribyou/src/footer/footer.html","src/environment.js","src/campaigns/share-modal.js","/Users/robertwaggott/Code/distribyou/src/campaigns/share-modal.html","src/campaigns/pledge-modal.js","/Users/robertwaggott/Code/distribyou/src/campaigns/pledge-modal.html","src/campaigns/confirmation.js","/Users/robertwaggott/Code/distribyou/src/campaigns/confirmation.html","src/campaigns/confirm-modal.js","/Users/robertwaggott/Code/distribyou/src/campaigns/confirm-modal.html","src/campaigns/campaigns.js","/Users/robertwaggott/Code/distribyou/src/campaigns/campaigns.html","src/campaigns/campaign.js","/Users/robertwaggott/Code/distribyou/src/campaigns/campaign.html","src/base-view-model.js","src/app.js","/Users/robertwaggott/Code/distribyou/src/app.html"],"names":["configure","config","globalResources","nprogress","RouterProgressIndicator","EventAggregator","ea","attached","processingSubscriber","subscribe","start","completeSubscriber","done","detached","dispose","RequestIndicator","visible","Breadcrumbs","Router","eventAggregator","router","navigationSubscriber","loadInstructions","parentInstructions","getParentInstructions","currentInstruction","instructions","slice","length","concat","getAllInstructions","filter","instruction","includeInBreadcrumbs","title","navigateToRoute","name","params","arr","previousInstruction","routes","find","e","Campaign","activate","args","console","log","aurelia","use","standardConfiguration","plugin","PLATFORM","moduleName","useDefaults","settings","lock","centerHorizontalOnly","startingZIndex","keyboard","feature","environment","debug","developmentLogging","testing","then","setRoot","Header","showApiCallsButton","auth","toggleAPICalls","publish","Footer","ShareModal","DialogController","dialogController","campaign","PledgeModal","Promise","client","HttpClient","get","id","JSON","parse","data","response","resolve","ConfirmModal","Campaigns","campaigns","deactivate","shareOnTwitter","twitterWindow","window","open","document","URL","focus","shareOnFacebook","facebookWindow","DialogService","dialogService","location","mymap","L","map","setView","parseFloat","lat","lng","tileLayer","attribution","maxZoom","accessToken","addTo","marker","joinCampaign","opts","viewModel","model","whenClosed","wasCancelled","shareOnGoogle","googleWindow","BaseViewModel","setTitle","setParams","App","configureRouter","route","moduleId","addPipelineStep","AuthorizeStep","run","navigationInstruction","next"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export function configure(config) {\n    config.globalResources([\n    ]);\n}\n","import { inject, customElement } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport * as nprogress from \"nprogress\";\n\n@customElement(\"router-progress-indicator\")\n@inject(EventAggregator)\nexport class RouterProgressIndicator {\n    constructor(EventAggregator) {\n        this.ea = EventAggregator;\n    }\n        \n    attached() {\n        this.processingSubscriber = this.ea.subscribe(\"router:navigation:processing\", () => {\n            nprogress.start();\n        });\n\n        this.completeSubscriber = this.ea.subscribe(\"router:navigation:complete\", () => {\n            nprogress.done();\n        });        \n    }\n\n    detached() {\n        this.processingSubscriber.dispose();\n        this.completeSubscriber.dispose();\n    }\n}",null,"import { inject, customElement } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\n\n@customElement(\"request-indicator\")\n@inject(EventAggregator)\nexport class RequestIndicator {\n    constructor(EventAggregator) {\n        this.ea = EventAggregator;\n        this.visible = false;\n    }\n        \n    attached() {\n        this.processingSubscriber = this.ea.subscribe(\"request:processing\", () => {\n            this.visible = true;\n        });\n\n        this.completeSubscriber = this.ea.subscribe(\"request:complete\", () => {\n            this.visible = false;\n        });\n    }\n\n    detached() {\n        this.processingSubscriber.dispose();\n        this.completeSubscriber.dispose();\n    }\n}",null,"import { inject, customElement } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport { Router } from \"aurelia-router\";\n\n@customElement(\"breadcrumbs\")\n@inject(EventAggregator, Router)\nexport class Breadcrumbs {\n    constructor(eventAggregator, router) {\n        this.ea = eventAggregator;\n        this.router = router;\n    }\n\n    attached() {\n        this.navigationSubscriber = this.ea.subscribe(\"router:navigation:success\", () => {\n            this.loadInstructions();\n        });\n\n        this.loadInstructions();\n    }\n\n    detached() {\n        if (this.navigationSubscriber) {\n            this.navigationSubscriber.dispose();\n        }\n    }\n\n    loadInstructions() {\n        let parentInstructions = this.getParentInstructions(this.router.currentInstruction);\n\n        this.instructions = parentInstructions\n            .slice(0, parentInstructions.length - 1)\n            .concat(this.router.currentInstruction.getAllInstructions())\n            .filter(instruction => instruction.config.includeInBreadcrumbs && instruction.config.title);\n    }\n\n    navigateToRoute(instruction) {\n        this.router.navigateToRoute(instruction.config.name, instruction.params);\n    }\n\n    getParentInstructions(instruction) {\n        let arr = [instruction];\n\n        if (!instruction.config.previousInstruction) {\n            return arr;\n        }\n\n        let routes = this.router.routes;\n        let previousInstruction = routes.find(e => e.name === instruction.config.previousInstruction);\n\n        if (!previousInstruction) {\n            return arr;\n        }\n\n        previousInstruction.config = previousInstruction;\n\n        return this.getParentInstructions(previousInstruction).concat(arr);\n    }\n}",null,"import { HttpClient } from \"aurelia-http-client\";\n\nexport class Campaign {\n    constructor() {\n    }\n\n    activate(args) {\n        console.log(args);\n    }\n}",null,"import { PLATFORM } from \"aurelia-pal\";\nimport environment from \"./environment\";\n\nexport function configure(aurelia) {\n    aurelia.use\n        .standardConfiguration()\n        .plugin(\"aurelia-validation\")\n        .plugin(PLATFORM.moduleName(\"aurelia-dialog\"), config => {\n            config.useDefaults();\n            config.settings.lock = false;\n            config.settings.centerHorizontalOnly = false;\n            config.settings.startingZIndex = 5;\n            config.settings.keyboard = true;    \n        })\n        .feature(\"resources\");\n\n    if (environment.debug) {\n        aurelia.use.developmentLogging();\n    }\n\n    if (environment.testing) {\n        aurelia.use.plugin(\"aurelia-testing\");\n    }\n\n    return aurelia.start().then(() => aurelia.setRoot());\n}\n","import { HttpClient } from \"aurelia-http-client\";\n\nexport class Campaign {\n    constructor() {\n    }\n\n    activate(args) {\n        console.log(args);\n    }\n}",null,"import { inject } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport { Router } from \"aurelia-router\";\n\n@inject(EventAggregator, Router)\nexport class Header {\n    constructor(EventAggregator, router) {\n        this.ea = EventAggregator;\n        this.router = router;\n    }\n\n    attached() {\n        this.showApiCallsButton = this.router.currentInstruction.config.auth;\n    }\n\n    toggleAPICalls() {\n        this.ea.publish(\"toggleAPICalls\");\n    }\n}",null,"import { inject } from \"aurelia-framework\";\nimport { HttpClient } from \"aurelia-http-client\";\nimport { Router } from \"aurelia-router\";\n\n@inject(Router)\nexport class Footer {\n    constructor(router) {\n        this.router = router;\n    }\n\n    attached() {\n        // this.showVersionInfo = this.router.currentInstruction.config.auth;\n\n        // GitHubButtons.render();\n\n        // return new Promise(resolve => {\n        //     let client = new HttpClient();\n\n        //     client.get(\"/api/version\").then(data => {\n        //         this.state = JSON.parse(data.response);\n\n        //         resolve();\n        //     });\n        // });\n    }\n}",null,"export default {\n  debug: true,\n  testing: true\n};\n","import { inject } from \"aurelia-framework\";\nimport { DialogController } from \"aurelia-dialog\";\n\n@inject(DialogController)\nexport class ShareModal {\n    constructor(dialogController) {\n        this.dialogController = dialogController;\n    }\n\n    activate(campaign) {\n        this.campaign = campaign;\n    }\n}",null,"import { inject } from \"aurelia-framework\";\nimport { DialogController } from \"aurelia-dialog\";\n\n@inject(DialogController)\nexport class PledgeModal {\n    constructor(dialogController) {\n        this.dialogController = dialogController;\n    }\n\n    activate(campaign) {\n        this.campaign = campaign;\n    }\n\n    // yes() {\n    //     this.dialogController.ok();\n    // }\n}",null,"import { HttpClient } from \"aurelia-http-client\";\n\nexport class Campaign {\n    constructor() {\n    }\n\n    activate(args) {\n        console.log(args);\n\n        return new Promise(resolve => {\n            let client = new HttpClient();\n\n            client.get(`/api/campaign/${args.id}`).then(data => {\n                this.campaign = JSON.parse(data.response);\n\n                resolve();\n            });\n        });\n    }\n\n    attached() {\n    }\n}",null,"import { inject } from \"aurelia-framework\";\nimport { DialogController } from \"aurelia-dialog\";\n\n@inject(DialogController)\nexport class ConfirmModal {\n    constructor(dialogController) {\n        this.dialogController = dialogController;\n    }\n\n    activate(campaign) {\n        this.campaign = campaign;\n    }\n}",null,"import { HttpClient } from \"aurelia-http-client\";\n\nexport class Campaigns {\n    constructor() {\n    }\n\n    activate() {\n        return new Promise(resolve => {\n            let client = new HttpClient();\n\n            client.get(\"/api/campaigns\").then(data => {\n                this.campaigns = JSON.parse(data.response);\n\n                resolve();\n            });\n        });\n    }\n\n    deactivate() {\n    }\n\n    shareOnTwitter(campaign) {\n        var twitterWindow = window.open('https://twitter.com/share?url=' + document.URL, 'twitter-popup', 'height=350,width=600');\n        \n        if (twitterWindow.focus) { \n            twitterWindow.focus(); \n        }\n\n        return false;\n    }\n\n    shareOnFacebook(campaign) {\n        let facebookWindow = window.open('https://www.facebook.com/sharer/sharer.php?u=' + document.URL, 'facebook-popup', 'height=350,width=600');\n        \n        if (facebookWindow.focus) { \n            facebookWindow.focus(); \n        }\n\n        return false;\n    }\n}",null,"import { inject } from \"aurelia-framework\";\nimport { HttpClient } from \"aurelia-http-client\";\nimport { Router } from \"aurelia-router\";\nimport { DialogService } from \"aurelia-dialog\";\nimport { PledgeModal } from \"./pledge-modal\";\n\n@inject(DialogService, Router)\nexport class Campaign {\n    constructor(dialogService, router) {\n        this.dialogService = dialogService;\n        this.router = router;\n    }\n\n    activate(args) {\n        console.log(args);\n\n        return new Promise(resolve => {\n            let client = new HttpClient();\n\n            client.get(`/api/campaign/${args.id}`).then(data => {\n                this.campaign = JSON.parse(data.response);\n\n                console.log(this.campaign);\n\n                resolve();\n            });\n        });\n    }\n\n    attached() {\n        if (this.campaign.location) {\n            var mymap = L.map('mapid').setView([\n                parseFloat(this.campaign.location.lat), \n                parseFloat(this.campaign.location.lng)\n            ], 13);\n\n            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoicm9iZXJ0LXdhZ2dvdHQiLCJhIjoiMmRlMmI0MTIzYjJkYWU4YTQ5MzRhOTFkMWNhZWY1ZWEifQ.5uVZ6P4XGNC4gnmbNS5OLQ', {\n                attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n                maxZoom: 18,\n                id: 'mapbox.streets',\n                accessToken: 'your.mapbox.access.token'\n            }).addTo(mymap);\n            \n            L.marker([\n                parseFloat(this.campaign.location.lat), \n                parseFloat(this.campaign.location.lng)                \n            ]).addTo(mymap);            \n        }\n    }\n\n    deactivate() {\n    }\n\n    joinCampaign(campaign) {\n        console.log(campaign);\n        \n        let opts = {\n            viewModel: PledgeModal,\n            model: campaign\n        };\n\n        this.dialogService.open(opts).whenClosed(response => {\n            if (response.wasCancelled) {\n                return;\n            }\n                \n            // todo: move to the confirmation page.\n        });\n    }\n\n    shareOnTwitter(campaign) {\n        var twitterWindow = window.open('https://twitter.com/share?text=Check out the ' + campaign.name + ' campaign on Distribu&url=' + document.URL, 'twitter-popup', 'height=350,width=600');\n        \n        if (twitterWindow.focus) { \n            twitterWindow.focus(); \n        }\n        \n        return false;\n    }\n\n    shareOnFacebook(campaign) {\n        let facebookWindow = window.open('https://www.facebook.com/sharer/sharer.php?quote=Check out the ' + campaign.name + ' campaign on Distribu&u=' + document.URL, 'facebook-popup', 'height=350,width=600');\n        \n        if (facebookWindow.focus) { \n            facebookWindow.focus(); \n        }\n\n        return false;\n    }\n\n    shareOnGoogle(campaign) {\n        let googleWindow = window.open('https://plus.google.com/share?text=Check out the ' + campaign.name + ' campaign on Distribu&url=' + document.URL, 'google-popup', 'height=350,width=600');\n        \n        if (googleWindow.focus) { \n            googleWindow.focus(); \n        }\n\n        return false;\n    }\n}",null,"export class BaseViewModel {\n    constructor(router) {\n        this.router = router;\n    }\n\n    setTitle(title) {\n        this.router.currentInstruction.config.title = title;\n    }\n\n    setParams(params) {\n        this.router.currentInstruction.config.params = params;\n    }\n}","import { inject } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport { DialogService } from \"aurelia-dialog\";\nimport { PLATFORM } from \"aurelia-pal\";\nimport { HttpClient } from \"aurelia-http-client\";\nimport { Redirect } from \"aurelia-router\";\n\n@inject(EventAggregator, DialogService)\nexport class App {\n    constructor(eventAggregator, dialogService) {\n        this.ea = eventAggregator;\n        this.dialogService = dialogService;\n    }\n\n    activate() {\n        this.ea.subscribe(\"app:view-job\", job => {\n        });\n    }\n\n    configureRouter(config, router) {\n        config.title = \"Distribu\";\n\n        config.map([\n            { \n                name: \"home\",\n                route: \"\",\n                moduleId: PLATFORM.moduleName(\"home/home\"),\n                title: \"Home\",\n                auth: false,\n                includeInBreadcrumbs: true\n            },\n            { \n                name: \"campaigns\",\n                route: \"campaigns\",\n                moduleId: PLATFORM.moduleName(\"campaigns/campaigns\"),\n                title: \"Campaigns\",\n                auth: false,\n                includeInBreadcrumbs: true\n            },\n            { \n                name: \"campaigns\",\n                route: \"campaign/:id\",\n                moduleId: PLATFORM.moduleName(\"campaigns/campaign\"),\n                title: \"Campaign\",\n                auth: false,\n                includeInBreadcrumbs: true\n            },\n            { \n                name: \"reports\",\n                route: \"reports\",\n                moduleId: PLATFORM.moduleName(\"reports/reports\"),\n                title: \"Reports\",\n                auth: false,\n                includeInBreadcrumbs: true\n            }\n        ]);\n\n        config.addPipelineStep(\"authorize\", AuthorizeStep);\n\n        this.router = router;\n    }\n}\n\nclass AuthorizeStep {\n    run(navigationInstruction, next) {\n        return new Promise(resolve => {\n            let client = new HttpClient();\n\n            return resolve(next());\n\n            // client.get(\"/api/has-been-setup\").then(res => {\n            //     let parsedResponse = JSON.parse(res.response);\n            //     let currentRoute = navigationInstruction.config;\n            //     let loginRequired = currentRoute.auth && currentRoute.auth === true;\n\n            //     if (!parsedResponse.hasBeenSetup && loginRequired) {\n            //         return resolve(next.cancel(new Redirect(\"setup\")));\n            //     }\n\n            //     return resolve(next());\n            // });\n        });\n    }\n}\n",null],"sourceRoot":"../.."}