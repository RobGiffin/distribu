{"version":3,"sources":["src/resources/index.js","src/resources/elements/router-progress-indicator/router-progress-indicator.js","/Users/robertwaggott/Code/distribyou/src/resources/elements/router-progress-indicator/router-progress-indicator.html","src/resources/elements/request-indicator/request-indicator.js","/Users/robertwaggott/Code/distribyou/src/resources/elements/request-indicator/request-indicator.html","src/resources/elements/breadcrumbs/breadcrumbs.js","/Users/robertwaggott/Code/distribyou/src/resources/elements/breadcrumbs/breadcrumbs.html","src/main.js","src/header/header.js","/Users/robertwaggott/Code/distribyou/src/header/header.html","src/footer/footer.js","/Users/robertwaggott/Code/distribyou/src/footer/footer.html","src/environment.js","src/campaigns/campaigns.js","/Users/robertwaggott/Code/distribyou/src/campaigns/campaigns.html","src/base-view-model.js","src/app.js","/Users/robertwaggott/Code/distribyou/src/app.html"],"names":["configure","config","globalResources","nprogress","RouterProgressIndicator","EventAggregator","ea","attached","processingSubscriber","subscribe","start","completeSubscriber","done","detached","dispose","RequestIndicator","visible","Breadcrumbs","Router","eventAggregator","router","navigationSubscriber","loadInstructions","parentInstructions","getParentInstructions","currentInstruction","instructions","slice","length","concat","getAllInstructions","filter","instruction","includeInBreadcrumbs","title","navigateToRoute","name","params","arr","previousInstruction","routes","find","e","aurelia","use","standardConfiguration","plugin","PLATFORM","moduleName","useDefaults","settings","centerHorizontalOnly","feature","environment","debug","developmentLogging","testing","then","setRoot","Header","showApiCallsButton","auth","toggleAPICalls","publish","Footer","showVersionInfo","GitHubButtons","render","Promise","client","HttpClient","get","state","JSON","parse","data","response","resolve","Campaigns","activate","campaigns","deactivate","BaseViewModel","setTitle","setParams","App","DialogService","dialogService","configureRouter","map","route","moduleId","addPipelineStep","AuthorizeStep","run","navigationInstruction","next"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export function configure(config) {\n    config.globalResources([\n    ]);\n}\n","import { inject, customElement } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport * as nprogress from \"nprogress\";\n\n@customElement(\"router-progress-indicator\")\n@inject(EventAggregator)\nexport class RouterProgressIndicator {\n    constructor(EventAggregator) {\n        this.ea = EventAggregator;\n    }\n        \n    attached() {\n        this.processingSubscriber = this.ea.subscribe(\"router:navigation:processing\", () => {\n            nprogress.start();\n        });\n\n        this.completeSubscriber = this.ea.subscribe(\"router:navigation:complete\", () => {\n            nprogress.done();\n        });        \n    }\n\n    detached() {\n        this.processingSubscriber.dispose();\n        this.completeSubscriber.dispose();\n    }\n}",null,"import { inject, customElement } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\n\n@customElement(\"request-indicator\")\n@inject(EventAggregator)\nexport class RequestIndicator {\n    constructor(EventAggregator) {\n        this.ea = EventAggregator;\n        this.visible = false;\n    }\n        \n    attached() {\n        this.processingSubscriber = this.ea.subscribe(\"request:processing\", () => {\n            this.visible = true;\n        });\n\n        this.completeSubscriber = this.ea.subscribe(\"request:complete\", () => {\n            this.visible = false;\n        });\n    }\n\n    detached() {\n        this.processingSubscriber.dispose();\n        this.completeSubscriber.dispose();\n    }\n}",null,"import { inject, customElement } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport { Router } from \"aurelia-router\";\n\n@customElement(\"breadcrumbs\")\n@inject(EventAggregator, Router)\nexport class Breadcrumbs {\n    constructor(eventAggregator, router) {\n        this.ea = eventAggregator;\n        this.router = router;\n    }\n\n    attached() {\n        this.navigationSubscriber = this.ea.subscribe(\"router:navigation:success\", () => {\n            this.loadInstructions();\n        });\n\n        this.loadInstructions();\n    }\n\n    detached() {\n        if (this.navigationSubscriber) {\n            this.navigationSubscriber.dispose();\n        }\n    }\n\n    loadInstructions() {\n        let parentInstructions = this.getParentInstructions(this.router.currentInstruction);\n\n        this.instructions = parentInstructions\n            .slice(0, parentInstructions.length - 1)\n            .concat(this.router.currentInstruction.getAllInstructions())\n            .filter(instruction => instruction.config.includeInBreadcrumbs && instruction.config.title);\n    }\n\n    navigateToRoute(instruction) {\n        this.router.navigateToRoute(instruction.config.name, instruction.params);\n    }\n\n    getParentInstructions(instruction) {\n        let arr = [instruction];\n\n        if (!instruction.config.previousInstruction) {\n            return arr;\n        }\n\n        let routes = this.router.routes;\n        let previousInstruction = routes.find(e => e.name === instruction.config.previousInstruction);\n\n        if (!previousInstruction) {\n            return arr;\n        }\n\n        previousInstruction.config = previousInstruction;\n\n        return this.getParentInstructions(previousInstruction).concat(arr);\n    }\n}",null,"import { PLATFORM } from \"aurelia-pal\";\nimport environment from \"./environment\";\n\nexport function configure(aurelia) {\n    aurelia.use\n        .standardConfiguration()\n        .plugin(\"aurelia-validation\")\n        .plugin(PLATFORM.moduleName(\"aurelia-dialog\"), config => {\n            config.useDefaults();\n            config.settings.centerHorizontalOnly = true;\n        })\n        .feature(\"resources\");\n\n    if (environment.debug) {\n        aurelia.use.developmentLogging();\n    }\n\n    if (environment.testing) {\n        aurelia.use.plugin(\"aurelia-testing\");\n    }\n\n    return aurelia.start().then(() => aurelia.setRoot());\n}\n","import { inject } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport { Router } from \"aurelia-router\";\n\n@inject(EventAggregator, Router)\nexport class Header {\n    constructor(EventAggregator, router) {\n        this.ea = EventAggregator;\n        this.router = router;\n    }\n\n    attached() {\n        this.showApiCallsButton = this.router.currentInstruction.config.auth;\n    }\n\n    toggleAPICalls() {\n        this.ea.publish(\"toggleAPICalls\");\n    }\n}",null,"import { inject } from \"aurelia-framework\";\nimport { HttpClient } from \"aurelia-http-client\";\nimport { Router } from \"aurelia-router\";\n\n@inject(Router)\nexport class Footer {\n    constructor(router) {\n        this.router = router;\n    }\n\n    attached() {\n        this.showVersionInfo = this.router.currentInstruction.config.auth;\n\n        GitHubButtons.render();\n\n        return new Promise(resolve => {\n            let client = new HttpClient();\n\n            client.get(\"/api/version\").then(data => {\n                this.state = JSON.parse(data.response);\n\n                resolve();\n            });\n        });\n    }\n}",null,"export default {\n  debug: true,\n  testing: true\n};\n","import { HttpClient } from \"aurelia-http-client\";\n\nexport class Campaigns {\n    constructor() {\n    }\n\n    activate() {\n        return new Promise(resolve => {\n            let client = new HttpClient();\n\n            client.get(\"/api/campaigns\").then(data => {\n                this.campaigns = JSON.parse(data.response);\n\n                resolve();\n            });\n        });\n    }\n\n    deactivate() {\n    }\n}",null,"export class BaseViewModel {\n    constructor(router) {\n        this.router = router;\n    }\n\n    setTitle(title) {\n        this.router.currentInstruction.config.title = title;\n    }\n\n    setParams(params) {\n        this.router.currentInstruction.config.params = params;\n    }\n}","import { inject } from \"aurelia-framework\";\nimport { EventAggregator } from \"aurelia-event-aggregator\";\nimport { DialogService } from \"aurelia-dialog\";\nimport { PLATFORM } from \"aurelia-pal\";\nimport { HttpClient } from \"aurelia-http-client\";\nimport { Redirect } from \"aurelia-router\";\n\n@inject(EventAggregator, DialogService)\nexport class App {\n    constructor(eventAggregator, dialogService) {\n        this.ea = eventAggregator;\n        this.dialogService = dialogService;\n    }\n\n    activate() {\n        this.ea.subscribe(\"app:view-job\", job => {\n        });\n    }\n\n    configureRouter(config, router) {\n        config.title = \"Distribu\";\n\n        config.map([\n            { \n                name: \"campaigns\",\n                route: \"\",\n                moduleId: PLATFORM.moduleName(\"campaigns/campaigns\"),\n                title: \"Campaigns\",\n                auth: false,\n                includeInBreadcrumbs: true\n            }\n        ]);\n\n        config.addPipelineStep(\"authorize\", AuthorizeStep);\n\n        this.router = router;\n    }\n}\n\nclass AuthorizeStep {\n    run(navigationInstruction, next) {\n        return new Promise(resolve => {\n            let client = new HttpClient();\n\n            return resolve(next());\n\n            // client.get(\"/api/has-been-setup\").then(res => {\n            //     let parsedResponse = JSON.parse(res.response);\n            //     let currentRoute = navigationInstruction.config;\n            //     let loginRequired = currentRoute.auth && currentRoute.auth === true;\n\n            //     if (!parsedResponse.hasBeenSetup && loginRequired) {\n            //         return resolve(next.cancel(new Redirect(\"setup\")));\n            //     }\n\n            //     return resolve(next());\n            // });\n        });\n    }\n}\n",null],"sourceRoot":"../.."}