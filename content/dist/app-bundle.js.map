{"version":3,"sources":["src/resources/index.js","src/resources/elements/router-progress-indicator/router-progress-indicator.js","C:/git/Distribu/src/resources/elements/router-progress-indicator/router-progress-indicator.html","src/resources/elements/request-indicator/request-indicator.js","C:/git/Distribu/src/resources/elements/request-indicator/request-indicator.html","src/resources/elements/breadcrumbs/breadcrumbs.js","C:/git/Distribu/src/resources/elements/breadcrumbs/breadcrumbs.html","src/reports/reports.js","C:/git/Distribu/src/reports/reports.html","src/main.js","src/home/home.js","C:/git/Distribu/src/home/home.html","src/header/header.js","C:/git/Distribu/src/header/header.html","src/footer/footer.js","C:/git/Distribu/src/footer/footer.html","src/environment.js","src/campaigns/share-modal.js","C:/git/Distribu/src/campaigns/share-modal.html","src/campaigns/pledge-modal.js","C:/git/Distribu/src/campaigns/pledge-modal.html","src/campaigns/confirmation.js","C:/git/Distribu/src/campaigns/confirmation.html","src/campaigns/confirm-modal.js","C:/git/Distribu/src/campaigns/confirm-modal.html","src/campaigns/campaigns.js","C:/git/Distribu/src/campaigns/campaigns.html","src/campaigns/campaign.js","C:/git/Distribu/src/campaigns/campaign.html","src/base-view-model.js","src/app.js","C:/git/Distribu/src/app.html"],"names":["configure","config","globalResources","nprogress","RouterProgressIndicator","EventAggregator","ea","attached","processingSubscriber","subscribe","start","completeSubscriber","done","detached","dispose","RequestIndicator","visible","Breadcrumbs","Router","eventAggregator","router","navigationSubscriber","loadInstructions","parentInstructions","getParentInstructions","currentInstruction","instructions","slice","length","concat","getAllInstructions","filter","instruction","includeInBreadcrumbs","title","navigateToRoute","name","params","arr","previousInstruction","routes","find","e","Campaign","activate","args","console","log","aurelia","use","standardConfiguration","plugin","PLATFORM","moduleName","useDefaults","settings","lock","centerHorizontalOnly","startingZIndex","keyboard","feature","environment","debug","developmentLogging","testing","then","setRoot","Header","showApiCallsButton","auth","toggleAPICalls","publish","Footer","ShareModal","DialogController","dialogController","campaign","shareOnTwitter","twitterWindow","window","open","url","focus","shareOnFacebook","facebookWindow","finish","ok","PledgeModal","paymentSchedule","switchPaymentSchedule","continue","Promise","client","HttpClient","get","id","JSON","parse","data","response","resolve","ConfirmModal","state","confirm","Campaigns","campaigns","deactivate","document","URL","DialogService","dialogService","location","mymap","L","map","setView","parseFloat","lat","lng","tileLayer","attribution","maxZoom","accessToken","addTo","marker","joinCampaign","opts","viewModel","model","whenClosed","wasCancelled","openConfirmModal","openShareModal","shareOnGoogle","googleWindow","BaseViewModel","setTitle","setParams","App","configureRouter","route","moduleId","addPipelineStep","AuthorizeStep","run","navigationInstruction","next"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export function configure(config) {\r\n    config.globalResources([\r\n    ]);\r\n}\r\n","import { inject, customElement } from \"aurelia-framework\";\r\nimport { EventAggregator } from \"aurelia-event-aggregator\";\r\nimport * as nprogress from \"nprogress\";\r\n\r\n@customElement(\"router-progress-indicator\")\r\n@inject(EventAggregator)\r\nexport class RouterProgressIndicator {\r\n    constructor(EventAggregator) {\r\n        this.ea = EventAggregator;\r\n    }\r\n        \r\n    attached() {\r\n        this.processingSubscriber = this.ea.subscribe(\"router:navigation:processing\", () => {\r\n            nprogress.start();\r\n        });\r\n\r\n        this.completeSubscriber = this.ea.subscribe(\"router:navigation:complete\", () => {\r\n            nprogress.done();\r\n        });        \r\n    }\r\n\r\n    detached() {\r\n        this.processingSubscriber.dispose();\r\n        this.completeSubscriber.dispose();\r\n    }\r\n}",null,"import { inject, customElement } from \"aurelia-framework\";\r\nimport { EventAggregator } from \"aurelia-event-aggregator\";\r\n\r\n@customElement(\"request-indicator\")\r\n@inject(EventAggregator)\r\nexport class RequestIndicator {\r\n    constructor(EventAggregator) {\r\n        this.ea = EventAggregator;\r\n        this.visible = false;\r\n    }\r\n        \r\n    attached() {\r\n        this.processingSubscriber = this.ea.subscribe(\"request:processing\", () => {\r\n            this.visible = true;\r\n        });\r\n\r\n        this.completeSubscriber = this.ea.subscribe(\"request:complete\", () => {\r\n            this.visible = false;\r\n        });\r\n    }\r\n\r\n    detached() {\r\n        this.processingSubscriber.dispose();\r\n        this.completeSubscriber.dispose();\r\n    }\r\n}",null,"import { inject, customElement } from \"aurelia-framework\";\r\nimport { EventAggregator } from \"aurelia-event-aggregator\";\r\nimport { Router } from \"aurelia-router\";\r\n\r\n@customElement(\"breadcrumbs\")\r\n@inject(EventAggregator, Router)\r\nexport class Breadcrumbs {\r\n    constructor(eventAggregator, router) {\r\n        this.ea = eventAggregator;\r\n        this.router = router;\r\n    }\r\n\r\n    attached() {\r\n        this.navigationSubscriber = this.ea.subscribe(\"router:navigation:success\", () => {\r\n            this.loadInstructions();\r\n        });\r\n\r\n        this.loadInstructions();\r\n    }\r\n\r\n    detached() {\r\n        if (this.navigationSubscriber) {\r\n            this.navigationSubscriber.dispose();\r\n        }\r\n    }\r\n\r\n    loadInstructions() {\r\n        let parentInstructions = this.getParentInstructions(this.router.currentInstruction);\r\n\r\n        this.instructions = parentInstructions\r\n            .slice(0, parentInstructions.length - 1)\r\n            .concat(this.router.currentInstruction.getAllInstructions())\r\n            .filter(instruction => instruction.config.includeInBreadcrumbs && instruction.config.title);\r\n    }\r\n\r\n    navigateToRoute(instruction) {\r\n        this.router.navigateToRoute(instruction.config.name, instruction.params);\r\n    }\r\n\r\n    getParentInstructions(instruction) {\r\n        let arr = [instruction];\r\n\r\n        if (!instruction.config.previousInstruction) {\r\n            return arr;\r\n        }\r\n\r\n        let routes = this.router.routes;\r\n        let previousInstruction = routes.find(e => e.name === instruction.config.previousInstruction);\r\n\r\n        if (!previousInstruction) {\r\n            return arr;\r\n        }\r\n\r\n        previousInstruction.config = previousInstruction;\r\n\r\n        return this.getParentInstructions(previousInstruction).concat(arr);\r\n    }\r\n}",null,"import { HttpClient } from \"aurelia-http-client\";\r\n\r\nexport class Campaign {\r\n    constructor() {\r\n    }\r\n\r\n    activate(args) {\r\n        console.log(args);\r\n    }\r\n}",null,"import { PLATFORM } from \"aurelia-pal\";\r\nimport environment from \"./environment\";\r\n\r\nexport function configure(aurelia) {\r\n    aurelia.use\r\n        .standardConfiguration()\r\n        .plugin(\"aurelia-validation\")\r\n        .plugin(PLATFORM.moduleName(\"aurelia-dialog\"), config => {\r\n            config.useDefaults();\r\n            config.settings.lock = false;\r\n            config.settings.centerHorizontalOnly = false;\r\n            config.settings.startingZIndex = 5;\r\n            config.settings.keyboard = true;    \r\n        })\r\n        .feature(\"resources\");\r\n\r\n    if (environment.debug) {\r\n        aurelia.use.developmentLogging();\r\n    }\r\n\r\n    if (environment.testing) {\r\n        aurelia.use.plugin(\"aurelia-testing\");\r\n    }\r\n\r\n    return aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","import { HttpClient } from \"aurelia-http-client\";\r\n\r\nexport class Campaign {\r\n    constructor() {\r\n    }\r\n\r\n    activate(args) {\r\n        console.log(args);\r\n    }\r\n}",null,"import { inject } from \"aurelia-framework\";\r\nimport { EventAggregator } from \"aurelia-event-aggregator\";\r\nimport { Router } from \"aurelia-router\";\r\n\r\n@inject(EventAggregator, Router)\r\nexport class Header {\r\n    constructor(EventAggregator, router) {\r\n        this.ea = EventAggregator;\r\n        this.router = router;\r\n    }\r\n\r\n    attached() {\r\n        this.showApiCallsButton = this.router.currentInstruction.config.auth;\r\n    }\r\n\r\n    toggleAPICalls() {\r\n        this.ea.publish(\"toggleAPICalls\");\r\n    }\r\n}",null,"import { inject } from \"aurelia-framework\";\r\nimport { HttpClient } from \"aurelia-http-client\";\r\nimport { Router } from \"aurelia-router\";\r\n\r\n@inject(Router)\r\nexport class Footer {\r\n    constructor(router) {\r\n        this.router = router;\r\n    }\r\n\r\n    attached() {\r\n        // this.showVersionInfo = this.router.currentInstruction.config.auth;\r\n\r\n        // GitHubButtons.render();\r\n\r\n        // return new Promise(resolve => {\r\n        //     let client = new HttpClient();\r\n\r\n        //     client.get(\"/api/version\").then(data => {\r\n        //         this.state = JSON.parse(data.response);\r\n\r\n        //         resolve();\r\n        //     });\r\n        // });\r\n    }\r\n}",null,"export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import { inject } from \"aurelia-framework\";\r\nimport { DialogController } from \"aurelia-dialog\";\r\n\r\n@inject(DialogController)\r\nexport class ShareModal {\r\n    constructor(dialogController) {\r\n        this.dialogController = dialogController;\r\n    }\r\n\r\n    activate(campaign) {\r\n        this.campaign = campaign;\r\n    }\r\n\r\n    shareOnTwitter() {\r\n        let twitterWindow = window.open('https://twitter.com/share?text=Check out the ' + campaign.name + ' campaign on Distribu&url=' + campaign.url, 'twitter-popup', 'height=350,width=600');\r\n        \r\n        if (twitterWindow.focus) { \r\n            twitterWindow.focus(); \r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    shareOnFacebook() {\r\n        let facebookWindow = window.open('https://www.facebook.com/sharer/sharer.php?quote=Check out the ' + campaign.name + ' campaign on Distribu&u=' + campaign.url, 'facebook-popup', 'height=350,width=600');\r\n        \r\n        if (facebookWindow.focus) { \r\n            facebookWindow.focus(); \r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    finish() {\r\n        this.dialogController.ok();        \r\n    }\r\n}",null,"import { inject } from \"aurelia-framework\";\r\nimport { DialogController } from \"aurelia-dialog\";\r\n\r\n@inject(DialogController)\r\nexport class PledgeModal {\r\n    constructor(dialogController) {\r\n        this.dialogController = dialogController;\r\n        this.paymentSchedule = \"yearly\";\r\n    }\r\n\r\n    activate(campaign) {\r\n        this.campaign = campaign;\r\n    }\r\n\r\n    switchPaymentSchedule(paymentSchedule) {\r\n        this.paymentSchedule = paymentSchedule;\r\n    }\r\n\r\n    continue() {\r\n        this.dialogController.ok({\r\n            paymentSchedule: this.paymentSchedule\r\n        });\r\n    }\r\n}",null,"import { HttpClient } from \"aurelia-http-client\";\r\n\r\nexport class Campaign {\r\n    constructor() {\r\n    }\r\n\r\n    activate(args) {\r\n        console.log(args);\r\n\r\n        return new Promise(resolve => {\r\n            let client = new HttpClient();\r\n\r\n            client.get(`/api/campaign/${args.id}`).then(data => {\r\n                this.campaign = JSON.parse(data.response);\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    attached() {\r\n    }\r\n}",null,"import { inject } from \"aurelia-framework\";\r\nimport { DialogController } from \"aurelia-dialog\";\r\n\r\n@inject(DialogController)\r\nexport class ConfirmModal {\r\n    constructor(dialogController) {\r\n        this.dialogController = dialogController;\r\n    }\r\n\r\n    activate(state) {\r\n        this.state = state;\r\n    }\r\n\r\n    confirm() {\r\n        this.dialogController.ok();\r\n    }\r\n}",null,"import { HttpClient } from \"aurelia-http-client\";\r\n\r\nexport class Campaigns {\r\n    constructor() {\r\n    }\r\n\r\n    activate() {\r\n        return new Promise(resolve => {\r\n            let client = new HttpClient();\r\n\r\n            client.get(\"/api/campaigns\").then(data => {\r\n                this.campaigns = JSON.parse(data.response);\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    deactivate() {\r\n    }\r\n\r\n    shareOnTwitter(campaign) {\r\n        var twitterWindow = window.open('https://twitter.com/share?url=' + document.URL, 'twitter-popup', 'height=350,width=600');\r\n        \r\n        if (twitterWindow.focus) { \r\n            twitterWindow.focus(); \r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    shareOnFacebook(campaign) {\r\n        let facebookWindow = window.open('https://www.facebook.com/sharer/sharer.php?u=' + document.URL, 'facebook-popup', 'height=350,width=600');\r\n        \r\n        if (facebookWindow.focus) { \r\n            facebookWindow.focus(); \r\n        }\r\n\r\n        return false;\r\n    }\r\n}",null,"import { inject } from \"aurelia-framework\";\r\nimport { HttpClient } from \"aurelia-http-client\";\r\nimport { Router } from \"aurelia-router\";\r\nimport { DialogService } from \"aurelia-dialog\";\r\nimport { PledgeModal } from \"./pledge-modal\";\r\nimport { ConfirmModal } from \"./confirm-modal\";\r\nimport { ShareModal } from \"./share-modal\";\r\n\r\n@inject(DialogService, Router)\r\nexport class Campaign {\r\n    constructor(dialogService, router) {\r\n        this.dialogService = dialogService;\r\n        this.router = router;\r\n    }\r\n\r\n    activate(args) {\r\n        console.log(args);\r\n\r\n        return new Promise(resolve => {\r\n            let client = new HttpClient();\r\n\r\n            client.get(`/api/campaign/${args.id}`).then(data => {\r\n                this.campaign = JSON.parse(data.response);\r\n\r\n                console.log(this.campaign);\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    attached() {\r\n        if (this.campaign.location) {\r\n            var mymap = L.map('mapid').setView([\r\n                parseFloat(this.campaign.location.lat), \r\n                parseFloat(this.campaign.location.lng)\r\n            ], 13);\r\n\r\n            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoicm9iZXJ0LXdhZ2dvdHQiLCJhIjoiMmRlMmI0MTIzYjJkYWU4YTQ5MzRhOTFkMWNhZWY1ZWEifQ.5uVZ6P4XGNC4gnmbNS5OLQ', {\r\n                attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery Â© <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n                maxZoom: 18,\r\n                id: 'mapbox.streets',\r\n                accessToken: 'your.mapbox.access.token'\r\n            }).addTo(mymap);\r\n            \r\n            L.marker([\r\n                parseFloat(this.campaign.location.lat), \r\n                parseFloat(this.campaign.location.lng)                \r\n            ]).addTo(mymap);            \r\n        }\r\n    }\r\n\r\n    deactivate() {\r\n    }\r\n\r\n    joinCampaign(campaign) {\r\n        let opts = {\r\n            viewModel: PledgeModal,\r\n            model: campaign\r\n        };\r\n\r\n        this.dialogService.open(opts).whenClosed(response => {\r\n            if (response.wasCancelled) {\r\n                return;\r\n            }\r\n                \r\n            this.openConfirmModal(campaign, response.paymentSchedule);\r\n        });\r\n    }\r\n\r\n    openConfirmModal(campaign, paymentSchedule) {\r\n        let opts = {\r\n            viewModel: ConfirmModal,\r\n            model: {\r\n                campaign: campaign,\r\n                paymentSchedule: paymentSchedule\r\n            }\r\n        };\r\n\r\n        this.dialogService.open(opts).whenClosed(response => {\r\n            if (response.wasCancelled) {\r\n                return;\r\n            }\r\n             \r\n            this.openShareModal(campaign);\r\n        });        \r\n    }\r\n\r\n    openShareModal(campaign) {\r\n        let opts = {\r\n            viewModel: ShareModal,\r\n            model: campaign\r\n        };\r\n\r\n        this.dialogService.open(opts);\r\n    }\r\n\r\n    shareOnTwitter(campaign) {\r\n        var twitterWindow = window.open('https://twitter.com/share?text=Check out the ' + campaign.name + ' campaign on Distribu&url=' + document.URL, 'twitter-popup', 'height=350,width=600');\r\n        \r\n        if (twitterWindow.focus) { \r\n            twitterWindow.focus(); \r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    shareOnFacebook(campaign) {\r\n        let facebookWindow = window.open('https://www.facebook.com/sharer/sharer.php?quote=Check out the ' + campaign.name + ' campaign on Distribu&u=' + document.URL, 'facebook-popup', 'height=350,width=600');\r\n        \r\n        if (facebookWindow.focus) { \r\n            facebookWindow.focus(); \r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    shareOnGoogle(campaign) {\r\n        let googleWindow = window.open('https://plus.google.com/share?text=Check out the ' + campaign.name + ' campaign on Distribu&url=' + document.URL, 'google-popup', 'height=350,width=600');\r\n        \r\n        if (googleWindow.focus) { \r\n            googleWindow.focus(); \r\n        }\r\n\r\n        return false;\r\n    }\r\n}",null,"export class BaseViewModel {\r\n    constructor(router) {\r\n        this.router = router;\r\n    }\r\n\r\n    setTitle(title) {\r\n        this.router.currentInstruction.config.title = title;\r\n    }\r\n\r\n    setParams(params) {\r\n        this.router.currentInstruction.config.params = params;\r\n    }\r\n}","import { inject } from \"aurelia-framework\";\r\nimport { EventAggregator } from \"aurelia-event-aggregator\";\r\nimport { DialogService } from \"aurelia-dialog\";\r\nimport { PLATFORM } from \"aurelia-pal\";\r\nimport { HttpClient } from \"aurelia-http-client\";\r\nimport { Redirect } from \"aurelia-router\";\r\n\r\n@inject(EventAggregator, DialogService)\r\nexport class App {\r\n    constructor(eventAggregator, dialogService) {\r\n        this.ea = eventAggregator;\r\n        this.dialogService = dialogService;\r\n    }\r\n\r\n    activate() {\r\n        this.ea.subscribe(\"app:view-job\", job => {\r\n        });\r\n    }\r\n\r\n    configureRouter(config, router) {\r\n        config.title = \"Distribu\";\r\n\r\n        config.map([\r\n            { \r\n                name: \"home\",\r\n                route: [\"\",\"home\",\"home-how-it-works\"],\r\n                moduleId: PLATFORM.moduleName(\"home/home\"),\r\n                title: \"Home\",\r\n                auth: false,\r\n                includeInBreadcrumbs: true\r\n            },\r\n            { \r\n                name: \"campaigns\",\r\n                route: \"campaigns\",\r\n                moduleId: PLATFORM.moduleName(\"campaigns/campaigns\"),\r\n                title: \"Campaigns\",\r\n                auth: false,\r\n                includeInBreadcrumbs: true\r\n            },\r\n            { \r\n                name: \"campaigns\",\r\n                route: \"campaign/:id\",\r\n                moduleId: PLATFORM.moduleName(\"campaigns/campaign\"),\r\n                title: \"Campaign\",\r\n                auth: false,\r\n                includeInBreadcrumbs: true\r\n            },\r\n            { \r\n                name: \"reports\",\r\n                route: \"reports\",\r\n                moduleId: PLATFORM.moduleName(\"reports/reports\"),\r\n                title: \"Reports\",\r\n                auth: false,\r\n                includeInBreadcrumbs: true\r\n            }\r\n        ]);\r\n\r\n        config.addPipelineStep(\"authorize\", AuthorizeStep);\r\n\r\n        this.router = router;\r\n    }\r\n}\r\n\r\nclass AuthorizeStep {\r\n    run(navigationInstruction, next) {\r\n        return new Promise(resolve => {\r\n            let client = new HttpClient();\r\n\r\n            return resolve(next());\r\n\r\n            // client.get(\"/api/has-been-setup\").then(res => {\r\n            //     let parsedResponse = JSON.parse(res.response);\r\n            //     let currentRoute = navigationInstruction.config;\r\n            //     let loginRequired = currentRoute.auth && currentRoute.auth === true;\r\n\r\n            //     if (!parsedResponse.hasBeenSetup && loginRequired) {\r\n            //         return resolve(next.cancel(new Redirect(\"setup\")));\r\n            //     }\r\n\r\n            //     return resolve(next());\r\n            // });\r\n        });\r\n    }\r\n}\r\n",null],"sourceRoot":"../.."}